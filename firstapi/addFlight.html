<!DOCTYPE html>
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css">
<!-- jQuery library -->
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>

<!-- Latest compiled JavaScript -->
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"></script>

<h1> Add Employee </h1>
</html>


 <div class="form-group">
    <label for="fid">Flightid:</label>
    <input type="number" class="form-control" id="fid" />
</div>
<div class="form-group">
    <label for="fname">FlightName:</label>
    <input type="text" class="form-control" id="fname" />
</div>
<div class="form-group">
    <label for="source">Source:</label>
    <input type="text" class="form-control" id="source" />
</div>
<div class="form-group">
    <label for="dest">Destination:</label>
    <input type="text" class="form-control" id="dest" />
</div>

<div class="form-group">
    <label for="dtime">Departure time:</label>
    <input type="datetime-local" class="form-control" id="dtime" />
</div>

<div class="form-group">
    <label for="atime">arrival time:</label>
    <input type="datetime-local" class="form-control" id="atime" />
</div>

<div class="form-group">
    <label for="tc">Total capacity:</label>
    <input type="number" class="form-control" id="tc" />
</div>

<div class="form-group">
    <label for="cost">Cost:</label>
    <input type="number" class="form-control" id="cost" />
</div>

<div class="form-group">
    <label for="ipath">Path</label>
    <input type="file" class="form-control" id="ipath" />
</div>
<div class="text-center panel-body">
    <button type="submit" class="btn btn-sm btn-primary" id="AddButton">Add</button>
</div>
 
<div style="display:none" id="resultDiv">
    <h2>Employee</h2>
    <table class="table">
        <thead><tr><th>FID</th><th>FName</th><th>Source</th><th>Destination</th><th>Departure time</th><th>Arrival time</th><th>capacity</th><th>Cost</th><th>Ipath</th></tr></thead>
        <tbody></tbody>
    </table>
</div> 
<script>

$("#AddButton").click(function (e) {
    $.ajax({
        url: "https://localhost:5001/api/Employee/AddEmp",
        headers:{
        'Content-Type':'application/json;charset=UTF-8',
        'Access-Control-Allow-Origin':'*',
        'Access-Control-Allow-Method':'*'},
       type: "post",
        contentType: "application/json",
        data: JSON.stringify({
            Fid: $("#fid").val(),
            Fname: $("#fname").val(),
            Source: $("#source").val(),
            Destination: $("#destination").val(),
            Deptime: $("#dtime").val(),
            ArrTime: $("#atime").val(),            
            Capacity:$("#ct").val(),
            Cost: $("#cost").val(),
            Ipath: $("#ipath").val(),      
        }),
        success: function (result, status, xhr) {
            var str = "<tr><td>" + result["fid"] + "</td><td>" + result["fname"] + "</td><td>" + result["source"] + "</td><td>" + result["destination"]+"</td><td>"+result["city"]+"</td>";
            $("table tbody").append(str);
            $("#resultDiv").show();
        },
        error: function (xhr, status, error) {
            console.log(xhr)
        }
    });
});

</script> 

<a href="getemp.html" > List All Employees </a>

